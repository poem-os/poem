# POEM Core Configuration
#
# ============================================================================
# SINGLE SOURCE OF TRUTH FOR WORKSPACE PATHS
# ============================================================================
#
# This configuration file defines where user-generated content is stored.
# Workflows should NOT duplicate these paths - they inherit from here.
#
# Path Resolution Modes:
# - Development (POEM_DEV=true): Uses dev-workspace/ at monorepo root
# - Production (POEM_DEV not set): Uses poem/ in user's project root
#
# The config service (packages/poem-app/src/services/config/poem-config.ts)
# reads these paths and provides the resolvePath() API for all components.
# ============================================================================

# Workspace directories - SINGLE SOURCE OF TRUTH
# These paths are read by the config service.
# Workflows should NOT duplicate these - they inherit from config.
workspace:
  # Handlebars prompt templates (.hbs files)
  prompts: dev-workspace/prompts
  # JSON schema definitions for prompts
  schemas: dev-workspace/schemas
  # Generated mock data for testing
  mockData: dev-workspace/mock-data
  # User configuration files (providers, settings)
  config: dev-workspace/config
  # Persisted workflow execution state
  workflowData: dev-workspace/workflow-data

# Production workspace paths (for reference - applied by config service)
# When POEM_DEV is not set, the config service uses these defaults:
#   prompts: poem/prompts
#   schemas: poem/schemas
#   mockData: poem/mock-data
#   config: poem/config
#   workflowData: poem/workflow-data

# ============================================================================
# MULTI-WORKFLOW SUPPORT (Stories 3.8, 4.9)
# ============================================================================
#
# POEM supports multiple independent workflows within one workspace.
# Each workflow has its own prompts, schemas, mock data, and reference materials.
#
# To enable (after Story 3.8 implementation):
#
# workspace:
#   currentWorkflow: youtube-launch-optimizer
#
#   workflows:
#     youtube-launch-optimizer:
#       prompts: dev-workspace/workflows/youtube-launch-optimizer/prompts
#       schemas: dev-workspace/workflows/youtube-launch-optimizer/schemas
#       mockData: dev-workspace/workflows/youtube-launch-optimizer/mock-data
#       reference:
#         - path: data/youtube-launch-optimizer/
#           type: local
#           priority: 10
#         - path: /ad/brains/youtube/
#           type: second-brain
#           priority: 20
#
#     nano-banana:
#       prompts: dev-workspace/workflows/nano-banana/prompts
#       schemas: dev-workspace/workflows/nano-banana/schemas
#       mockData: dev-workspace/workflows/nano-banana/mock-data
#       reference:
#         - path: data/nano-banana/reference/
#           type: local
#           priority: 10
#         - path: /ad/brains/nano-banana/
#           type: second-brain
#           priority: 20
#
#   # Shared resources across workflows
#   shared:
#     prompts: dev-workspace/shared/prompts
#     schemas: dev-workspace/shared/schemas
#
# Reference Material Types:
#   - local: Relative to project (data/nano-banana/)
#   - second-brain: Absolute path (/ad/brains/nano-banana/)
#   - external: URL (future - Story 4.9)
#   - git-repo: Git repository URL (future - Story 4.9)
#
# Priority System (Story 4.9):
#   - Higher priority wins conflicts (same filename in multiple sources)
#   - Default: 10, Typical: local=10, second-brain=20, external=5
#
# Workflow Commands (Story 3.8):
#   Activate Penny: /poem/agents/penny
#   List workflows: *workflows
#   Switch workflow: *switch <name>
#   Show context: *context
#
# See: docs/planning/course-corrections/2026-01-12-multi-workflow-architecture.md
# ============================================================================

# Logging configuration
logging:
  # Log level: debug | info | warn | error
  level: info

# Feature flags
features:
  # Enable hot-reload for Handlebars helpers during development
  hotReload: true
  # Enable mock data generation capabilities
  mockDataGeneration: true
