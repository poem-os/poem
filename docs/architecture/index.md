# POEM Architecture Document

## Table of Contents

- [POEM Architecture Document](#table-of-contents)
  - [Introduction](./introduction.md)
    - [Starter Template or Existing Project](./introduction.md#starter-template-or-existing-project)
    - [Change Log](./introduction.md#change-log)
  - [High-Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [Platform and Infrastructure Choice](./high-level-architecture.md#platform-and-infrastructure-choice)
    - [Repository Structure](./high-level-architecture.md#repository-structure)
    - [High Level Architecture Diagram](./high-level-architecture.md#high-level-architecture-diagram)
    - [Architectural Patterns](./high-level-architecture.md#architectural-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Technology Stack Table](./tech-stack.md#technology-stack-table)
    - [Key Technology Decisions](./tech-stack.md#key-technology-decisions)
  - [Data Models](./data-models.md)
    - [Prompt Template](./data-models.md#prompt-template)
    - [Schema](./data-models.md#schema)
    - [Workflow Data](./data-models.md#workflow-data)
    - [Provider Configuration](./data-models.md#provider-configuration)
    - [Data Dictionary](./data-models.md#data-dictionary)
    - [Entity Relationship Diagram](./data-models.md#entity-relationship-diagram)
  - [API Specification](./api-specification.md)
    - [REST API Specification](./api-specification.md#rest-api-specification)
    - [API Summary Table](./api-specification.md#api-summary-table)
  - [Components](./components.md)
    - [Component: Agents (poem-core)](./components.md#component-agents-poem-core)
    - [Component: Workflows (poem-core)](./components.md#component-workflows-poem-core)
    - [Component: Skills (poem-core)](./components.md#component-skills-poem-core)
    - [Component: Astro Server (poem-app)](./components.md#component-astro-server-poem-app)
    - [Component: Handlebars Service (poem-app)](./components.md#component-handlebars-service-poem-app)
    - [Component: Custom Helpers (poem-app)](./components.md#component-custom-helpers-poem-app)
    - [Component: Provider System (poem-app)](./components.md#component-provider-system-poem-app)
    - [Component: Mock Data Generator (poem-app)](./components.md#component-mock-data-generator-poem-app)
    - [Component: User Workspace (/poem/)](./components.md#component-user-workspace-poem)
    - [Component Diagram](./components.md#component-diagram)
  - [Core Workflows](./core-workflows.md)
    - [Workflow 1: New Prompt Creation](./core-workflows.md#workflow-1-new-prompt-creation)
    - [Workflow 2: Refine Prompt (Iterative)](./core-workflows.md#workflow-2-refine-prompt-iterative)
    - [Workflow 3: Test Prompt with Mock Data](./core-workflows.md#workflow-3-test-prompt-with-mock-data)
    - [Workflow 4: Prompt Chain Execution (YouTube Launch Optimizer)](./core-workflows.md#workflow-4-prompt-chain-execution-youtube-launch-optimizer)
    - [Workflow 5: Provider Integration (Publish Prompt)](./core-workflows.md#workflow-5-provider-integration-publish-prompt)
    - [Workflow 6: Add Custom Helper](./core-workflows.md#workflow-6-add-custom-helper)
  - [Unified Project Structure](./unified-project-structure.md)
    - [Development Repository Structure](./unified-project-structure.md#development-repository-structure)
    - [Installed Structure (User Project)](./unified-project-structure.md#installed-structure-user-project)
    - [Key Directories Explained](./unified-project-structure.md#key-directories-explained)
  - [Development Workflow](./development-workflow.md)
    - [Local Development Setup](./development-workflow.md#local-development-setup)
      - [Prerequisites](./development-workflow.md#prerequisites)
      - [Initial Setup](./development-workflow.md#initial-setup)
      - [Development Commands](./development-workflow.md#development-commands)
    - [Environment Configuration](./development-workflow.md#environment-configuration)
      - [Development Environment (.env.local)](./development-workflow.md#development-environment-envlocal)
      - [User Project Environment](./development-workflow.md#user-project-environment)
    - [Workflow: Developing poem-core (Framework Documents)](./development-workflow.md#workflow-developing-poem-core-framework-documents)
    - [Workflow: Developing poem-app (Runtime Server)](./development-workflow.md#workflow-developing-poem-app-runtime-server)
    - [Workflow: Adding a New Helper](./development-workflow.md#workflow-adding-a-new-helper)
    - [Workflow: Testing the NPX Installer](./development-workflow.md#workflow-testing-the-npx-installer)
  - [Testing Strategy](./testing-strategy.md)
    - [Testing Pyramid](./testing-strategy.md#testing-pyramid)
    - [Test Organization](./testing-strategy.md#test-organization)
      - [Unit Tests (packages/poem-app/tests/)](./testing-strategy.md#unit-tests-packagespoem-apptests)
      - [Manual Testing (Claude Code)](./testing-strategy.md#manual-testing-claude-code)
    - [Test Examples](./testing-strategy.md#test-examples)
      - [Unit Test: Handlebars Service](./testing-strategy.md#unit-test-handlebars-service)
      - [Integration Test: API Endpoint](./testing-strategy.md#integration-test-api-endpoint)
    - [Coverage Targets](./testing-strategy.md#coverage-targets)
    - [NFR Validation Tests](./testing-strategy.md#nfr-validation-tests)
  - [Coding Standards](./coding-standards.md)
    - [Critical Rules](./coding-standards.md#critical-rules)
    - [Naming Conventions](./coding-standards.md#naming-conventions)
    - [TypeScript Standards](./coding-standards.md#typescript-standards)
    - [Handlebars Helper Standards](./coding-standards.md#handlebars-helper-standards)
    - [API Endpoint Standards](./coding-standards.md#api-endpoint-standards)
    - [Agent/Workflow Document Standards](./coding-standards.md#agentworkflow-document-standards)
    - [Error Handling Strategy](./coding-standards.md#error-handling-strategy)
    - [Error Response Format](./coding-standards.md#error-response-format)
  - [CI/CD Strategy](./cicd-strategy.md)
    - [Philosophy](./cicd-strategy.md#philosophy)
    - [Manual Validation Workflow](./cicd-strategy.md#manual-validation-workflow)
      - [Validate (Steps 1-3) → CI Phase 1](./cicd-strategy.md#validate-steps-1-3-ci-phase-1)
      - [Test Installer (Steps 4-9) → CI Phase 3](./cicd-strategy.md#test-installer-steps-4-9-ci-phase-3)
      - [Release (Steps 10-13) → CI Phase 4](./cicd-strategy.md#release-steps-10-13-ci-phase-4)
    - [CI/CD Automation Phases](./cicd-strategy.md#cicd-automation-phases)
      - [Phase 1: Basic Validation](./cicd-strategy.md#phase-1-basic-validation)
      - [Phase 2: Split Package Validation](./cicd-strategy.md#phase-2-split-package-validation)
      - [Phase 3: Integration Testing](./cicd-strategy.md#phase-3-integration-testing)
      - [Phase 4: Automated Publishing](./cicd-strategy.md#phase-4-automated-publishing)
    - [Pre-commit Hooks](./cicd-strategy.md#pre-commit-hooks)
    - [Version Coordination](./cicd-strategy.md#version-coordination)
    - [Phase Implementation Timeline](./cicd-strategy.md#phase-implementation-timeline)
  - [Checklist Results Report](./checklist-results-report.md)
    - [Executive Summary](./checklist-results-report.md#executive-summary)
    - [Section Analysis](./checklist-results-report.md#section-analysis)
    - [Risk Assessment](./checklist-results-report.md#risk-assessment)
    - [Recommendations](./checklist-results-report.md#recommendations)
      - [Must-Fix Before Development](./checklist-results-report.md#must-fix-before-development)
      - [Should-Fix for Better Quality](./checklist-results-report.md#should-fix-for-better-quality)
      - [Nice-to-Have Improvements](./checklist-results-report.md#nice-to-have-improvements)
    - [AI Implementation Readiness](./checklist-results-report.md#ai-implementation-readiness)
    - [Final Decision](./checklist-results-report.md#final-decision)
  - [Next Steps](./next-steps.md)
    - [Architect Handoff to Scrum Master](./next-steps.md#architect-handoff-to-scrum-master)
