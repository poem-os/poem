# Story 1.5: Create Claude Code Slash Command Integration

## Status

Done

## Story

**As a** user,
**I want** slash commands to activate POEM agents,
**so that** I can access POEM workflows from Claude Code.

## Acceptance Criteria

1. `.claude/commands/poem/` directory structure created during install
2. Slash command wrapper for Prompt Engineer agent: `/poem/agents/penny`
3. Slash command files follow BMAD pattern (load agent definition)
4. Commands discoverable via Claude Code's slash command system
5. Agent activation displays agent name, role, and available commands
6. Help command lists all available POEM slash commands

## Tasks / Subtasks

- [x] Task 1: Update installer to create .claude/commands/poem structure (AC: 1)
- [x] Task 2: Create slash command wrapper for Prompt Engineer agent (AC: 2, 3)
- [x] Task 3: Update installer to copy slash command wrappers (AC: 1, 4)
- [x] Task 4: Implement agent greeting and help display (AC: 5)
- [x] Task 5: Create help command structure for listing POEM commands (AC: 6)
- [x] Task 6: Test slash command integration

## Dev Notes

### Slash Commands

| Command | Description |
|---------|-------------|
| `/poem/agents/penny` | Activate Prompt Engineer agent (Petra) |
| `/poem/help` | List all POEM slash commands |

### BMAD Pattern

Slash command wrappers follow this structure:
- `# /command Command` header
- `ACTIVATION-NOTICE` block
- Inline YAML with agent config
- Dependencies reference `.poem-core/{type}/{name}`

### Installation

Commands installed with `--core` or full install, excluded with `--app` only.

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-27 | 1.0 | Implementation complete | James (Dev Agent) |

---

## Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20251101)

### File List

**Created:**
- `packages/poem-core/commands/agents/prompt-engineer.md`
- `packages/poem-core/commands/help.md`
- `packages/poem-core/commands/skills/` (empty)

**Modified:**
- `bin/install.js` - Added installCommands() function

---

## QA Results

### Review Date: 2025-12-27

### Gate Status

**Gate: PASS** - Quality Score: 92/100

- All 6 ACs verified
- Terminal tests: 7/7 passed
- Human tests: 3 documented (Claude Code integration)
- ESLint: 0 errors
