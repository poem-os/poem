# Gap Analysis - Real-World Usage Feedback

## Purpose

This directory captures **real-world usage observations** from POEM implementations (e.g., vibedeck project) to identify gaps, missing features, and improvement opportunities.

**Output**: BMAD agents (Analyst, SM) will analyze observations and generate stories for POEM backlog.

---

## Files

| File | Purpose |
|------|---------|
| `vibedeck-observations.jsonl` | JSONL log of observations during vibedeck POEM usage |
| `gap-analysis.md` | Analysis report generated by BMAD Analyst (future) |

---

## Observation Schema

Each line in `*.jsonl` files is a JSON object with this structure:

```json
{
  "timestamp": "2026-01-15T10:30:00Z",
  "session": "vibedeck-usage-2026-01-15",
  "category": "missing-feature|bug|usability|workflow-friction|docs-gap|config-issue",
  "severity": "critical|high|medium|low|enhancement",
  "observation": "Detailed description of what was noticed",
  "context": "Where/when this occurred (e.g., 'creating prompt schema', 'running workflow')",
  "expected": "What was expected to happen (optional)",
  "actual": "What actually happened (optional)",
  "impact": "How this affects workflow (optional)",
  "tags": ["prompt-engineering", "schema", "workflow"],
  "references": {
    "files": ["path/to/file.ts"],
    "commands": ["/poem/agents/prompt-engineer"],
    "docs": ["docs/architecture.md#section"]
  }
}
```

### Categories

- **missing-feature**: Capability doesn't exist in POEM
- **bug**: Something broken or incorrect
- **usability**: UX friction, confusing flow
- **workflow-friction**: Process inefficiency
- **docs-gap**: Missing/unclear documentation
- **config-issue**: Configuration or setup problem

### Severity

- **critical**: Blocker, prevents work
- **high**: Major pain point, significant workaround needed
- **medium**: Annoying but manageable
- **low**: Minor inconvenience
- **enhancement**: Nice-to-have improvement

---

## BMAD Workflow

### Phase 1: Collection (Now)

User shares observations â†’ Claude appends to JSONL with proper structure.

**No fixes during collection** - just capture raw feedback.

### Phase 2: Analysis (Later)

```bash
# Load Analyst agent
/BMad/agents/analyst

# Analyze observations
"Read docs/planning/gap-analysis/vibedeck-observations.jsonl and generate gap-analysis.md"
```

**Analysis deliverable** (`gap-analysis.md`):
- Group observations by category/severity
- Identify patterns and themes
- Map to existing POEM architecture/requirements
- Prioritize recommendations
- Highlight quick wins vs. large efforts

### Phase 3: Story Creation (Later)

```bash
# Load Scrum Master
/BMad/agents/sm

# Generate stories from analysis
"Read docs/planning/gap-analysis/gap-analysis.md and draft stories for high-priority gaps"
```

**Output**: New stories in `docs/stories/` linked to specific observations.

---

## Example Observation

```json
{
  "timestamp": "2026-01-15T14:22:00Z",
  "session": "vibedeck-usage-2026-01-15",
  "category": "missing-feature",
  "severity": "high",
  "observation": "No way to validate prompt output against schema before deploying to production. Had to manually test in app.",
  "context": "After creating narrative-enhancement prompt with output schema",
  "expected": "POEM CLI command to test prompt with mock data and validate against schema",
  "actual": "Had to copy prompt to app, run manually, inspect output",
  "impact": "Adds 15-20 minutes per prompt iteration. Risk of deploying invalid prompts.",
  "tags": ["validation", "testing", "mock-data", "cli"],
  "references": {
    "files": ["packages/poem-app/src/commands/validate.ts"],
    "commands": [],
    "docs": ["docs/prd.md#mock-data-generation"]
  }
}
```

---

## Notes

- **JSONL format**: One JSON object per line (easy to parse, append, stream)
- **Flexible schema**: Add fields as needed during collection
- **Preserve context**: Rich metadata helps prioritize during analysis
- **Chronological**: Observations in time order show evolution of understanding

---

**Last Updated**: 2026-01-15
